RewriteEngine On

# CORS Headers
Header always set Access-Control-Allow-Origin "*"
Header always set Access-Control-Allow-Methods "POST, GET, PUT, DELETE, OPTIONS"
Header always set Access-Control-Allow-Headers "Content-Type, Authorization"

# Gestion des requÃªtes OPTIONS (preflight)
RewriteCond %{REQUEST_METHOD} OPTIONS
RewriteRule ^(.*)$ $1 [R=200,L]

# Routes d'authentification
RewriteRule ^auth/register$ auth/register.php [L]
RewriteRule ^auth/login$ auth/login.php [L]

# Routes du profil utilisateur
RewriteRule ^user/profile$ user/profile.php [L]

# Routes des projets utilisateur
RewriteRule ^user/projects$ user/projects.php [L]
RewriteRule ^user/projects/([^/]+)$ user/project.php?id=$1 [L]
